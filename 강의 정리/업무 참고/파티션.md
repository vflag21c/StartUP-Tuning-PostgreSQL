# 파티션
> 파티셔닝은 데이터베이스의 확장성과 유지보수를 대폭 향상시킬 수 있는 강력한 도구

## 파티션의 장점
- `성능 향상`: 큰 테이블을 더 작은 단위로 나누어, SQL 성능을 향상. 필요한 파티션만 스캔하여 처리 시간을 줄일 수 있다.
  - 실제로는, 파티션 처리할 경우, 파티션 키의 조건 누락으로 성능 저하될 위험성이 더 높다.
- `관리 용이성`: 대용량 데이터의 관리에용이하다. 개별 파티션에 대해 백업, 복원, 삭제와 같은 작업을 수행할 수 있다.
- `입출력 최적화`: I/O 부하를 분산시켜, 병렬 처리 시 시스템 자원의 효율적인 사용 가능
- `데이터 가용성과 복구`: 파티션별로 데이터를 분리함으로써 특정 파티션의 손상 시에도 나머지 파티션의 데이터는 안전하게 유지
- `보관 및 보존`: 사용되지 않는 데이터를 별도의 파티션으로 이동시켜, 보관 및 데이터 보존 정책을 구현
- `데이터 액세스 최적화`: 사용 패턴에 따라 데이터를 구성함으로써, 더 자주 사용되는 데이터에 빠르게 액세스

## 파티션의 위험성
- 파티션은 비즈니스 요건, 데이터 관리 정책, 성능의 관점을 모두 검토해 신중하게 설계해야 한다.
- 올바르지 않은 파티션 설계는 오히려 성능 저하를 일으키는 주범이 될 수 있다.
- 파티션을 잘 관리하지 않으면, 오류가 발생하거나 성능에 문제가 발생할 수 있다.
- 파티션이 늘어날 수록 관리 포인트가 늘어나 운영에 어려움이 생길 수 있다.
- 파티션 테이블에 적절하게 SQL을 실행하지 않으면 심각한 성능저하가 생길 수 있다

### PG / MySQL은 파티션 테이블에 `로컬 인덱스`만 만들 수 있다.
> `글로벌 인덱스`의 경우 ORACLE 만 지원

- PG, MySQL, MariaDB는 파티션 구성시, 무조건 `로컬 인덱스만 생성 가능`(파티션 별로 각각 인덱스 존재)
- PG, MySQL, MariaDB는 파티션 구성시, PK나 UK(Unique Key)에 반드시 파티션 키를 포함해야 한다.(순서는 상관 없음)


- 오라클은 파티션 구성시 PK나UK에 파티션 키를 포함하지 않아도 된다.(단, PK에 파티션 키가 포함되지 않는다면 PK는 글로벌 인덱스로 구성해야 한다.)
- 파티션 추가시, DBMS 버전에 따라 테이블에 쓰기 잠금이 발생할 수 있다